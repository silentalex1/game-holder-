<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://chrome.google.com; style-src 'self' 'unsafe-inline'; font-src 'self' https://fonts.googleapis.com https://fonts.gstatic.com; connect-src 'self';"><meta http-equiv="X-Content-Type-Options" content="nosniff"><meta http-equiv="X-Frame-Options" content="DENY"><title>Extension Hub</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@600;900&display=swap" rel="stylesheet"><style>:root{--primary:#4285f4;--secondary:#9b59b6;--success:#34c759;--error:#e74c3c;--neutral:#1e293b;--bg-light:#fafcff;--bg-dark:#e2e8f0;--text:#0f172a;--shadow:rgba(0,0,0,0.3);--highlight:rgba(66,133,244,0.3);--accent:#facc15}*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Inter',sans-serif;background:linear-gradient(125deg,var(--bg-light),var(--bg-dark));min-height:100vh;display:grid;place-items:center;overflow:hidden;position:relative}.bg-layer{position:absolute;inset:0;z-index:0;overflow:hidden;pointer-events:none}.orb{position:absolute;background:radial-gradient(circle,rgba(255,255,255,0.55),transparent);border-radius:50%;animation:drift 12s infinite ease-in-out;filter:blur(45px);opacity:0.95}.orb:nth-child(1){width:300px;height:300px;top:5%;left:40%}.orb:nth-child(2){width:260px;height:260px;top:80%;left:50%}.orb:nth-child(3){width:380px;height:380px;top:20%;left:5%}.container{background:rgba(255,255,255,0.99);padding:2.5rem;border-radius:2.5rem;box-shadow:0 3.5rem 8rem var(--shadow);text-align:center;animation:rise 1.5s ease-out;max-width:30rem;width:90%;position:relative;z-index:1;backdrop-filter:blur(25px);border:1px solid rgba(255,255,255,0.35)}h1{font-size:2.5rem;font-weight:900;margin-bottom:2rem;background:linear-gradient(90deg,var(--primary),var(--secondary),var(--success));-webkit-background-clip:text;color:transparent;text-transform:uppercase;letter-spacing:0.35rem;text-shadow:0 6px 12px var(--highlight)}.input-group{position:relative;margin-bottom:2rem;display:flex;align-items:center;gap:1rem}input{flex:1;padding:1rem 3rem 1rem 1.5rem;border:2px solid #e5e7eb;border-radius:2.5rem;font-size:1.1rem;outline:none;transition:all 0.7s ease;background:#fff;box-shadow:inset 0 5px 10px var(--shadow)}input:focus{border-color:var(--primary);box-shadow:0 0 2.5rem var(--highlight)}.input-icon{position:absolute;right:1.5rem;top:50%;transform:translateY(-50%);font-size:1.5rem;color:#64748b;transition:color 0.6s ease,transform 0.6s ease}input:focus+.input-icon{color:var(--primary);transform:translateY(-50%) scale(1.25)}button{padding:1rem 2.5rem;font-size:1.2rem;font-weight:600;color:#fff;background:linear-gradient(90deg,var(--primary),var(--secondary));border:none;border-radius:2.5rem;cursor:pointer;transition:all 0.7s ease;box-shadow:0 1.75rem 4rem rgba(66,133,244,0.55);position:relative;overflow:hidden}button::before{content:'';position:absolute;top:50%;left:50%;width:0;height:0;background:rgba(255,255,255,0.4);border-radius:50%;transform:translate(-50%,-50%);transition:width 1s ease,height 1s ease}button:hover::before{width:400%;height:400%}button:hover{transform:translateY(-0.6rem);box-shadow:0 3rem 6rem rgba(66,133,244,0.65)}button:active{transform:scale(0.94);box-shadow:0 1.5rem 3.5rem rgba(66,133,244,0.45)}button.loading{background:linear-gradient(90deg,#b0b8c4,#8a96a6);cursor:not-allowed;transform:none;box-shadow:none}button.loading::after{content:'';position:absolute;width:2.75rem;height:2.75rem;border:0.6rem solid #fff;border-top:0.6rem solid transparent;border-radius:50%;animation:spin 0.3s linear infinite;top:50%;left:50%;transform:translate(-50%,-50%)}.status{margin-top:1.5rem;font-size:1.1rem;font-weight:500;opacity:0;transition:opacity 0.9s ease,transform 0.9s ease;transform:translateY(1.75rem);padding:1.5rem 3rem;border-radius:2.5rem;background:rgba(255,255,255,0.85);box-shadow:0 8px 20px var(--shadow)}.status.visible{opacity:1;transform:translateY(0)}.history{margin-top:2rem;font-size:0.9rem;color:var(--text);max-height:18rem;overflow-y:auto;padding:3rem;background:rgba(255,255,255,0.75);border-radius:3rem;display:none;box-shadow:inset 0 5px 10px var(--shadow)}.history.visible{display:block;animation:fadeIn 0.9s ease-out}.history-item{padding:1.5rem 0;border-bottom:1px solid #e5e7eb;display:flex;justify-content:space-between;align-items:center;transition:background 0.6s ease}.history-item:hover{background:rgba(66,133,244,0.2)}.history-item span{font-size:1rem;color:var(--accent);cursor:pointer;transition:color 0.5s ease}.history-item span:hover{color:var(--primary)}@media (max-width:480px){.container{padding:2rem}h1{font-size:2.2rem}input{padding:1rem 3rem 1rem 1.5rem;font-size:1rem}button{padding:0.75rem 2rem;font-size:1.1rem}.status{font-size:0.9rem}.history{font-size:0.8rem}}@keyframes rise{from{opacity:0;transform:translateY(-7rem)}to{opacity:1;transform:translateY(0)}}@keyframes drift{0%,100%{transform:translate(0,0) scale(1)}25%{transform:translate(6rem,-6rem) scale(1.3)}50%{transform:translate(-5rem,5rem) scale(0.7)}75%{transform:translate(6.5rem,4rem) scale(1.25)}}@keyframes spin{to{transform:translate(-50%,-50%) rotate(360deg)}}@keyframes fadeIn{from{opacity:0;transform:translateY(1.25rem)}to{opacity:1;transform:translateY(0)}}</style></head><body><div class="bg-layer"><div class="orb"></div><div class="orb"></div><div class="orb"></div></div><div class="container"><h1>Extension Hub</h1><div class="input-group"><input type="text" id="extensionId" placeholder="Enter Extension ID" autocomplete="off"><span class="input-icon">ðŸ”—</span></div><button id="installBtn">Install Extension</button><div id="status" class="status"></div><div id="history" class="history"></div></div><script src="https://chrome.google.com/webstore/install-button.js" async defer></script><script>const DOM={btn:document.getElementById("installBtn"),input:document.getElementById("extensionId"),status:document.getElementById("status"),history:document.getElementById("history")};const AI={detectBrowser:()=>{const ua=navigator.userAgent.toLowerCase();const platform=navigator.platform.toLowerCase();const vendor=navigator.vendor.toLowerCase();const connection=navigator.connection||{};const features={chrome:!!window.chrome&&!!chrome.webstore&&!ua.includes("opr")&&!ua.includes("edg")&&vendor.includes("google"),firefox:ua.includes("firefox")&&!ua.includes("seamonkey")&&ua.includes("gecko"),operagx:ua.includes("opr")&&ua.includes("gx")&&vendor.includes("opera")};const weights={chrome:features.chrome?(ua.includes("chromium")?0.99:0.96)+(platform.includes("win")?0.02:0)+(connection.type==="4g"?0.01:0):0,firefox:features.firefox?0.94+(ua.includes("rv:")?0.04:0)+(platform.includes("linux")?0.02:0):0,operagx:features.operagx?0.995:0};const topMatch=Object.entries(weights).reduce((a,b)=>a[1]>b[1]?a:b,["unknown",0]);return topMatch[0]==="unknown"?"Other":topMatch[0].charAt(0).toUpperCase()+topMatch[0].slice(1)},verifyEnvironment:()=>{const browser=AI.detectBrowser();return{browser,isSupported:["Chrome","Firefox","OperaGX"].includes(browser),canInstall:browser==="Chrome"&&!!chrome.webstore}}};const Backend={history:JSON.parse(localStorage.getItem("extensionHistory"))||[],cache:new Map(),rateLimit:new Map(),init:()=>{Backend.history=Backend.history.filter(item=>Date.now()-new Date(item.date).getTime()<7*24*60*60*1000);localStorage.setItem("extensionHistory",JSON.stringify(Backend.history))},save:(id,browser,status,details)=>{Backend.history.unshift({id,browser,date:new Date().toLocaleString(),status,details});Backend.history=Backend.history.slice(0,5);localStorage.setItem("extensionHistory",JSON.stringify(Backend.history));Backend.render()},render:()=>{DOM.history.innerHTML=Backend.history.map(item=>`<div class="history-item">${item.id} (${item.browser}) - ${item.date} [${item.status}]${item.details?` - ${item.details}`:""} <span onclick="UI.retry('${item.id}')">Retry</span></div>`).join("");DOM.history.classList.add("visible")},fetch:async(id,browser)=>{const key=`${id}-${browser}`;if(Backend.cache.has(key))return Backend.cache.get(key);const mockFile={id,browser,url:`mock://${browser}/${id}.${browser==="Firefox"?"xpi":"crx"}`};Backend.cache.set(key,mockFile);return new Promise(resolve=>setTimeout(()=>resolve(mockFile),200))},checkRateLimit:()=>{const now=Date.now();const key="install-attempt";const limit=3;const windowMs=60*1000;const attempts=Backend.rateLimit.get(key)||{count:0,start:now};if(now-attempts.start>windowMs){attempts.count=0;attempts.start=now}attempts.count++;Backend.rateLimit.set(key,attempts);return attempts.count<=limit},logAttempt:(id,browser,status)=>{const attempts=JSON.parse(localStorage.getItem("installAttempts"))||[];attempts.push({id,browser,status,timestamp:Date.now()});localStorage.setItem("installAttempts",JSON.stringify(attempts.slice(-10)))},getStats:()=>{const attempts=JSON.parse(localStorage.getItem("installAttempts"))||[];const success=attempts.filter(a=>a.status==="Success").length;return{successRate:attempts.length?(success/attempts.length*100).toFixed(1):0,total:attempts.length}}};const Extension={validate:id=>/^[a-z]{32}$/.test(id.trim()),installChrome:id=>new Promise((resolve,reject)=>{chrome.webstore.install(`https://chrome.google.com/webstore/detail/${id}`,()=>resolve({success:true}),error=>reject(new Error(error)))}),installFirefox:id=>Backend.fetch(id,"Firefox").then(file=>({success:true,manual:"Download .xpi and drag into Firefox (Developer Mode required)"})),installOperaGX:id=>Backend.fetch(id,"OperaGX").then(file=>({success:true,manual:"Download .crx and drag into Opera GX (Developer Mode required)"})),installOther:()=>({success:false,manual:"Browser not supported for direct installation"})};const UI={toggleLoading:state=>{DOM.btn.disabled=state;DOM.btn.classList.toggle("loading",state)},showStatus:(msg,color)=>{DOM.status.textContent=msg;DOM.status.style.color=color;DOM.status.classList.add("visible");setTimeout(()=>DOM.status.classList.remove("visible"),15000)},clearInput:()=>DOM.input.value="",resetStatus:()=>DOM.status.classList.remove("visible"),toggleHistory:state=>DOM.history.classList.toggle("visible",state),retry:id=>{DOM.input.value=id;install()},showStats:()=>{const stats=Backend.getStats();UI.showStatus(`Success Rate: ${stats.successRate}% | Total Attempts: ${stats.total}`,"var(--neutral)")}};async function install(){const id=DOM.input.value.trim();const{ browser, isSupported, canInstall }=AI.verifyEnvironment();if(!id)return UI.showStatus("Enter an extension ID","var(--error)");if(!Extension.validate(id))return UI.showStatus("Invalid ID (32 lowercase letters)","var(--error)");if(!isSupported)return UI.showStatus("Browser not supported for direct installation","var(--error)");if(!Backend.checkRateLimit())return UI.showStatus("Too many attempts, please wait a minute","var(--error)");UI.toggleLoading(true);UI.showStatus(`Installing for ${browser}...`,"var(--primary)");try{let result;switch(browser){case "Chrome":if(!canInstall)throw new Error("Chrome inline installation not available");result=await Extension.installChrome(id);break;case "Firefox":result=await Extension.installFirefox(id);break;case "OperaGX":result=await Extension.installOperaGX(id);break;default:result=Extension.installOther()}if(result.success){UI.showStatus(result.manual||"Extension installed successfully!","var(--success)");Backend.save(id,browser,"Success",result.manual);Backend.logAttempt(id,browser,"Success");UI.clearInput()}else{UI.showStatus(result.manual,"var(--error)");Backend.save(id,browser,"Failed",result.manual);Backend.logAttempt(id,browser,"Failed")}}catch(e){UI.showStatus(`Failed: ${e.message||"Check ID or domain authorization"}`,"var(--error)");Backend.save(id,browser,"Failed",e.message);Backend.logAttempt(id,browser,"Failed")}finally{UI.toggleLoading(false)}}DOM.btn.addEventListener("click",install);DOM.input.addEventListener("keypress",e=>e.key==="Enter"&&install());DOM.input.addEventListener("input",UI.resetStatus);DOM.btn.addEventListener("contextmenu",e=>{e.preventDefault();UI.showStats()});window.addEventListener("load",()=>{Backend.init();Backend.history.length&&Backend.render()});</script></body></html>
